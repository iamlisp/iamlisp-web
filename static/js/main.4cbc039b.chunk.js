(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(n,e,t){n.exports=t(40)},25:function(n,e,t){},39:function(n,e,t){},40:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(7),o=t.n(c),u=(t(25),t(3)),l=t(1),i=t(2),s=t(13),f=t.n(s);function v(){var n=Object(l.a)(["\n  color: #fff;\n  background-color: #6496c8;\n  text-shadow: -1px 1px #417cb8;\n  border: none;\n  outline: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #346392;\n    text-shadow: -1px 1px #27496d;\n  }\n\n  &:active {\n    background-color: #27496d;\n    text-shadow: -1px 1px #193047;\n  }\n"]);return v=function(){return n},n}var m=i.a.button(v());function p(){var n=Object(l.a)(["\n  padding: 4px;\n  background-color: #263238;\n  color: #eeeeee;\n  font-family: sans-serif;\n"]);return p=function(){return n},n}var b=i.a.div(p()),d=function(n){var e=n.onEvalClick;return a.a.createElement(b,null,a.a.createElement(m,{onClick:e},"Evaluate"))};function E(){var n=Object(l.a)(['\n  font-family: "Monaco", monospace;\n  display: flex;\n  flex-direction: column;\n']);return E=function(){return n},n}t(38);var O=i.a.section(E()),j={mode:"commonlisp",theme:"material",lineNumbers:!0},h=function(n){var e=n.onEval,t=Object(r.useState)(),c=Object(u.a)(t,2),o=c[0],l=c[1],i=Object(r.useCallback)(function(){return e(o)},[o,e]),s=Object(r.useCallback)(function(n,e){return l(n)},[]);return a.a.createElement(O,null,a.a.createElement(f.a,{value:o,onChange:s,options:j}),a.a.createElement(d,{onEvalClick:i}))},g=function(){return a.a.createElement("span",null,">\xa0")};function w(){var n=Object(l.a)(["\n  ",".input {\n    color: #ffffff;\n  }\n\n  ",".output {\n    color: #00ff00;\n  }\n\n  ",".error {\n    color: #ff0000;\n  }\n"]);return w=function(){return n},n}function k(){var n=Object(l.a)([""]);return k=function(){return n},n}var y=i.a.div(k()),x=i.a.div(w(),y,y,y),C=function(n){var e=n.logEntries;return a.a.createElement(x,null,e.map(function(n,e){return a.a.createElement(y,{key:e,className:n.type},"input"===n.type&&a.a.createElement(g,null),n.content)}))};function S(){var n=Object(l.a)(["\n  .cursor {\n    background-color: #eeeeee;\n    color: #223344;\n  }\n"]);return S=function(){return n},n}var D=i.a.div(S());var N=function(n){var e,t=n.value,c=n.onChange,o=n.onSubmit,l=Object(r.useState)(0),i=Object(u.a)(l,2),s=i[0],f=i[1],v=t.slice(0,s),m=t[s],p=t.slice(s+1),b=Object(r.useCallback)(function(n){var e=t.slice(0,s),r=t.slice(s);f(function(e){return e+n.length}),c("".concat(e).concat(n).concat(r))},[s,t,c]),d=Object(r.useCallback)(function(n){switch(n.key){case"ArrowLeft":return f(function(n){return Math.max(0,n-1)});case"ArrowRight":return f(function(n){return Math.min(t.length,n+1)});case"End":return f(t.length);case"Home":return f(0);case"Backspace":var e=t.slice(0,s),r=t.slice(s);f(function(n){return Math.max(0,n-1)}),c("".concat(e.slice(0,-1)).concat(r));break;case"Delete":var a=t.slice(0,s),o=t.slice(s);c("".concat(a).concat(o.slice(1)))}},[s,t,c]),E=Object(r.useCallback)(function(n){switch(n.preventDefault(),n.key){case"Enter":return n.shiftKey?b("\n"):o(t);default:return b(n.key)}},[b,o,t]),O=Object(r.useCallback)(function(n){n.preventDefault();var e=n.clipboardData.getData("Text");return b(e)},[b]);return a.a.createElement(D,{tabIndex:0,onKeyDown:d,onKeyPress:E,onPaste:O},a.a.createElement(g,null),a.a.createElement("span",null,v),a.a.createElement("span",{className:"cursor"},(e=m)?e.replace("\n"," \n"):" "),a.a.createElement("span",null,p))},I=t(4);function M(){var n=Object(l.a)(["\n  color: #888888;\n"]);return M=function(){return n},n}var R=i.a.div(M()),A=function(){return a.a.createElement(R,null,"(Re)connecting...")};function K(){var n=Object(l.a)(['\n  padding: 4px;\n  overflow-y: auto;\n  font-size: 12pt;\n  background-color: #000000;\n  color: #eeeeee;\n  font-family: "Monaco", monospace;\n  outline: none;\n  white-space: pre;\n']);return K=function(){return n},n}var P=i.a.section(K()),B=function(n){var e=n.connectionStatus,t=n.onEval,c=n.messageEmitter,o=Object(r.createRef)(),l=Object(r.useState)(""),i=Object(u.a)(l,2),s=i[0],f=i[1],v=function(n){var e=Object(r.useState)(n),t=Object(u.a)(e,2),a=t[0],c=t[1];return{addError:function(n){var e={content:n,type:"error"};c(function(n){return[].concat(Object(I.a)(n),[e])})},addOutput:function(n){var e={content:n,type:"output"};c(function(n){return[].concat(Object(I.a)(n),[e])})},addInput:function(n){var e={content:n,type:"input"};c(function(n){return[].concat(Object(I.a)(n),[e])})},entries:a}}([]);!function(n,e){Object(r.useEffect)(function(){var t=function(n){var t=n.data,r=JSON.parse(t);"error"in r?e.addError(r.error):"result"in r?e.addOutput(r.result):"print"in r?e.addOutput(r.print):e.addOutput("OK")};return n?(n.on("message",t),function(){n.off("message",t)}):function(){}},[n,e])}(c,v);var m=Object(r.useCallback)(function(){"open"===e&&(v.addInput(s),f(""),t(s))},[s,t,v,e]);return Object(r.useEffect)(function(){return o.current.scrollIntoView()},[o]),a.a.createElement(P,null,a.a.createElement(C,{logEntries:v.entries}),"open"!==e&&a.a.createElement(A,null),a.a.createElement(N,{value:s,onChange:f,onSubmit:m}),a.a.createElement("div",{ref:o}))},J=(t(39),{EVAL_ENDPOINT:"wss://iamlisp-server.herokuapp.com/"}),L=t(16),T=t(17);function V(){var n=Object(l.a)(["\n  display: flex;\n  width: 100vw;\n  height: 100vh;\n\n  "," {\n    width: 50%;\n  }\n\n  "," {\n    width: 50%;\n  }\n"]);return V=function(){return n},n}var W=i.a.div(V(),O,P);var _=function(){var n=function(n){var e=Object(r.useState)("closed"),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(r.useRef)(),l=Object(r.useRef)();Object(r.useEffect)(function(){var e=new T.a(n),t=new L.EventEmitter;return e.onmessage=function(n){return t.emit("message",n)},e.onerror=function(n){return c("error")},e.onclose=function(){return c("close")},e.onopen=function(){return c("open")},o.current=e,l.current=t,function(){o.current.onopen=null,o.current.onerror=null,o.current.onmessage=null,o.current.onclose=null,o.current.close()}},[n]);var i=Object(r.useCallback)(function(n){o.current.send(n)},[o]);return[a,l.current,i]}(J.EVAL_ENDPOINT),e=Object(u.a)(n,3),t=e[0],c=e[1],o=e[2];return a.a.createElement(W,null,a.a.createElement(h,{onEval:o}),a.a.createElement(B,{connectionStatus:t,onEval:o,messageEmitter:c}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.4cbc039b.chunk.js.map