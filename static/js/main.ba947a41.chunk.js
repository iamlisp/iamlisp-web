(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(n,e,t){n.exports=t(42)},27:function(n,e,t){},41:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var r=t(0),c=t.n(r),a=t(8),o=t.n(a),u=(t(27),t(3)),i=t(1),l=t(2),s=t(14),f=t.n(s);function b(){var n=Object(i.a)(["\n  color: #fff;\n  background-color: #6496c8;\n  text-shadow: -1px 1px #417cb8;\n  border: none;\n  outline: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #346392;\n    text-shadow: -1px 1px #27496d;\n  }\n\n  &:active {\n    background-color: #27496d;\n    text-shadow: -1px 1px #193047;\n  }\n"]);return b=function(){return n},n}var v=l.a.button(b());function p(){var n=Object(i.a)(["\n  padding: 4px;\n  background-color: #263238;\n  color: #eeeeee;\n  font-family: sans-serif;\n"]);return p=function(){return n},n}var m=l.a.div(p()),d=function(n){var e=n.onEvalClick;return c.a.createElement(m,null,c.a.createElement(v,{onClick:e},"Run"))};function E(){var n=Object(i.a)(['\n  font-family: "Monaco", monospace;\n  display: flex;\n  flex-direction: column;\n']);return E=function(){return n},n}t(39),t(40);var O=l.a.section(E()),j={mode:"commonlisp",theme:"material",lineNumbers:!0,tabSize:2,indentWithTabs:!0,matchBrackets:!0},h=function(n){var e=n.onEval,t=Object(r.useState)(),a=Object(u.a)(t,2),o=a[0],i=a[1],l=Object(r.useCallback)(function(){return e(o)},[o,e]),s=Object(r.useCallback)(function(n,e){return i(n)},[]);return c.a.createElement(O,null,c.a.createElement(f.a,{value:o,onChange:s,options:j}),c.a.createElement(d,{onEvalClick:l}))},g=function(){return c.a.createElement("span",null,">\xa0")};function w(){var n=Object(i.a)(["\n  ",".input {\n    color: #ffffff;\n  }\n\n  ",".output {\n    color: #00ff00;\n  }\n\n  ",".error {\n    color: #ff0000;\n  }\n"]);return w=function(){return n},n}function k(){var n=Object(i.a)([""]);return k=function(){return n},n}var x=l.a.div(k()),y=l.a.div(w(),x,x,x),C=function(n){var e=n.logEntries;return c.a.createElement(y,null,e.map(function(n,e){return c.a.createElement(x,{key:e,className:n.type},"input"===n.type&&c.a.createElement(g,null),n.content)}))},S=t(17),D=t.n(S);function R(){var n=Object(i.a)(["\n  outline: none;\n\n  .cursor {\n    border: 1px solid #eeeeee\n    color: #223344;\n  }\n\n  &:focus .cursor {\n    background-color: #eeeeee;\n  }\n"]);return R=function(){return n},n}var I=l.a.div(R());var M=function(n){var e,t=n.value,a=n.onChange,o=n.onSubmit,i=n.logEntries,l=n.promptRef,s=Object(r.useState)(null),f=Object(u.a)(s,2),b=f[0],v=f[1],p=Object(r.useState)(0),m=Object(u.a)(p,2),d=m[0],E=m[1],O=t.slice(0,d),j=t[d],h=t.slice(d+1),w=function(n){return Object(r.useMemo)(function(){var e=n.filter(function(n){return"input"===n.type&&""!==n.content});return D()(e,function(n){return n.content})},[n])}(i),k=Object(r.useCallback)(function(n){var e=t.slice(0,d),r=t.slice(d);E(function(e){return e+n.length}),a("".concat(e).concat(n).concat(r))},[d,t,a]),x=Object(r.useCallback)(function(n){switch(n.key){case"ArrowLeft":return E(function(n){return Math.max(0,n-1)});case"ArrowRight":return E(function(n){return Math.min(t.length,n+1)});case"ArrowUp":var e=null===b?w.length-1:Math.max(b-1,0);v(e),a(w[e].content);break;case"ArrowDown":if(null!==b){var r=Math.min(b+1,w.length-1);v(r),a(w[r].content)}break;case"End":return E(t.length);case"Home":return E(0);case"Backspace":var c=t.slice(0,d),o=t.slice(d);E(function(n){return Math.max(0,n-1)}),a("".concat(c.slice(0,-1)).concat(o));break;case"Delete":var u=t.slice(0,d),i=t.slice(d);a("".concat(u).concat(i.slice(1)))}},[d,b,w,t,a]),y=Object(r.useCallback)(function(n){switch(n.preventDefault(),n.key){case"Enter":return n.shiftKey?k("\n"):(v(null),o(t));default:return k(n.key)}},[k,o,t]),C=Object(r.useCallback)(function(n){n.preventDefault();var e=n.clipboardData.getData("Text");return k(e)},[k]);return c.a.createElement(I,{ref:l,tabIndex:0,onKeyDown:x,onKeyPress:y,onPaste:C},c.a.createElement(g,null),c.a.createElement("span",null,O),c.a.createElement("span",{className:"cursor"},(e=j)?e.replace("\n"," \n"):" "),c.a.createElement("span",null,h))},N=t(5);function A(){var n=Object(i.a)(["\n  color: #888888;\n"]);return A=function(){return n},n}var B=l.a.div(A()),K=function(){return c.a.createElement(B,null,"(Re)connecting...")};function P(){var n=Object(i.a)(['\n  padding: 4px;\n  overflow-y: auto;\n  font-size: 12pt;\n  background-color: #000000;\n  color: #eeeeee;\n  font-family: "Monaco", monospace;\n  outline: none;\n  white-space: pre;\n']);return P=function(){return n},n}var T=l.a.section(P()),J=function(n){var e=n.connectionStatus,t=n.onEval,a=n.messageEmitter,o=Object(r.createRef)(),i=Object(r.createRef)(),l=Object(r.useState)(""),s=Object(u.a)(l,2),f=s[0],b=s[1],v=function(n){var e=Object(r.useState)(n),t=Object(u.a)(e,2),c=t[0],a=t[1];return{addError:function(n){var e={content:n,type:"error"};a(function(n){return[].concat(Object(N.a)(n),[e])})},addOutput:function(n){var e={content:n,type:"output"};a(function(n){return[].concat(Object(N.a)(n),[e])})},addInput:function(n){var e={content:n,type:"input"};a(function(n){return[].concat(Object(N.a)(n),[e])})},entries:c}}([]);!function(n,e){Object(r.useEffect)(function(){var t=function(n){var t=n.data,r=JSON.parse(t);"error"in r?e.addError(r.error):"result"in r?e.addOutput(r.result):"print"in r?e.addOutput(r.print):e.addOutput("OK")};return n?(n.on("message",t),function(){n.off("message",t)}):function(){}},[n,e])}(a,v);var p=Object(r.useCallback)(function(){"open"===e&&(v.addInput(f),b(""),t(f))},[f,t,v,e]),m=Object(r.useCallback)(function(){i.current.focus()},[i]);return Object(r.useEffect)(function(){return o.current.scrollIntoView()},[o]),c.a.createElement(T,{onFocus:m,tabIndex:0},c.a.createElement(C,{logEntries:v.entries}),"open"!==e&&c.a.createElement(K,null),c.a.createElement(M,{logEntries:v.entries,value:f,onChange:b,onSubmit:p,promptRef:i}),c.a.createElement("div",{ref:o}))},L=(t(41),{EVAL_ENDPOINT:"wss://iamlisp-server.herokuapp.com/"}),V=t(18),W=t(19);function z(){var n=Object(i.a)(["\n  display: flex;\n  width: 100vw;\n  height: 100vh;\n\n  "," {\n    width: 50%;\n  }\n\n  "," {\n    width: 50%;\n  }\n"]);return z=function(){return n},n}var _=l.a.div(z(),O,T);var F=function(){var n=function(n){var e=Object(r.useState)("closed"),t=Object(u.a)(e,2),c=t[0],a=t[1],o=Object(r.useRef)(),i=Object(r.useRef)();Object(r.useEffect)(function(){var e=new W.a(n),t=new V.EventEmitter;return e.onmessage=function(n){return t.emit("message",n)},e.onerror=function(n){return a("error")},e.onclose=function(){return a("close")},e.onopen=function(){return a("open")},o.current=e,i.current=t,function(){o.current.onopen=null,o.current.onerror=null,o.current.onmessage=null,o.current.onclose=null,o.current.close()}},[n]);var l=Object(r.useCallback)(function(n){o.current.send(n)},[o]);return[c,i.current,l]}(L.EVAL_ENDPOINT),e=Object(u.a)(n,3),t=e[0],a=e[1],o=e[2];return c.a.createElement(_,null,c.a.createElement(h,{onEval:o}),c.a.createElement(J,{connectionStatus:t,onEval:o,messageEmitter:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.ba947a41.chunk.js.map