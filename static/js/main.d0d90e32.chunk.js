(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(n,e,t){n.exports=t(42)},27:function(n,e,t){},41:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(8),o=t.n(c),u=(t(27),t(3)),i=t(1),l=t(2),s=t(14),f=t.n(s);function v(){var n=Object(i.a)(["\n  color: #fff;\n  background-color: #6496c8;\n  text-shadow: -1px 1px #417cb8;\n  border: none;\n  outline: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #346392;\n    text-shadow: -1px 1px #27496d;\n  }\n\n  &:active {\n    background-color: #27496d;\n    text-shadow: -1px 1px #193047;\n  }\n"]);return v=function(){return n},n}var b=l.a.button(v());function m(){var n=Object(i.a)(["\n  padding: 4px;\n  background-color: #263238;\n  color: #eeeeee;\n  font-family: sans-serif;\n"]);return m=function(){return n},n}var p=l.a.div(m()),d=function(n){var e=n.onEvalClick;return a.a.createElement(p,null,a.a.createElement(b,{onClick:e},"Run"))};function E(){var n=Object(i.a)(['\n  font-family: "Monaco", monospace;\n  display: flex;\n  flex-direction: column;\n']);return E=function(){return n},n}t(39),t(40);var O=l.a.section(E()),j={mode:"commonlisp",theme:"material",lineNumbers:!0,tabSize:2,indentWithTabs:!0,matchBrackets:!0},h=function(n){var e=n.onEval,t=Object(r.useState)(),c=Object(u.a)(t,2),o=c[0],i=c[1],l=Object(r.useCallback)(function(){return e(o)},[o,e]),s=Object(r.useCallback)(function(n,e){return i(n)},[]);return a.a.createElement(O,null,a.a.createElement(f.a,{value:o,onChange:s,options:j}),a.a.createElement(d,{onEvalClick:l}))},g=function(){return a.a.createElement("span",null,">\xa0")};function w(){var n=Object(i.a)(["\n  ",".input {\n    color: #ffffff;\n  }\n\n  ",".output {\n    color: #00ff00;\n  }\n\n  ",".error {\n    color: #ff0000;\n  }\n"]);return w=function(){return n},n}function k(){var n=Object(i.a)([""]);return k=function(){return n},n}var y=l.a.div(k()),x=l.a.div(w(),y,y,y),C=function(n){var e=n.logEntries;return a.a.createElement(x,null,e.map(function(n,e){return a.a.createElement(y,{key:e,className:n.type},"input"===n.type&&a.a.createElement(g,null),n.content)}))},S=t(17),D=t.n(S);function M(){var n=Object(i.a)(["\n  .cursor {\n    background-color: #eeeeee;\n    color: #223344;\n  }\n"]);return M=function(){return n},n}var N=l.a.div(M());var I=function(n){var e,t=n.value,c=n.onChange,o=n.onSubmit,i=n.logEntries,l=Object(r.useState)(null),s=Object(u.a)(l,2),f=s[0],v=s[1],b=Object(r.useState)(0),m=Object(u.a)(b,2),p=m[0],d=m[1],E=t.slice(0,p),O=t[p],j=t.slice(p+1),h=function(n){return Object(r.useMemo)(function(){var e=n.filter(function(n){return"input"===n.type&&""!==n.content});return D()(e,function(n){return n.content})},[n])}(i),w=Object(r.useCallback)(function(n){var e=t.slice(0,p),r=t.slice(p);d(function(e){return e+n.length}),c("".concat(e).concat(n).concat(r))},[p,t,c]),k=Object(r.useCallback)(function(n){switch(n.key){case"ArrowLeft":return d(function(n){return Math.max(0,n-1)});case"ArrowRight":return d(function(n){return Math.min(t.length,n+1)});case"ArrowUp":var e=null===f?h.length-1:Math.max(f-1,0);v(e),c(h[e].content);break;case"ArrowDown":if(null!==f){var r=Math.min(f+1,h.length-1);v(r),c(h[r].content)}break;case"End":return d(t.length);case"Home":return d(0);case"Backspace":var a=t.slice(0,p),o=t.slice(p);d(function(n){return Math.max(0,n-1)}),c("".concat(a.slice(0,-1)).concat(o));break;case"Delete":var u=t.slice(0,p),i=t.slice(p);c("".concat(u).concat(i.slice(1)))}},[p,f,h,t,c]),y=Object(r.useCallback)(function(n){switch(n.preventDefault(),n.key){case"Enter":return n.shiftKey?w("\n"):(v(null),o(t));default:return w(n.key)}},[w,o,t]),x=Object(r.useCallback)(function(n){n.preventDefault();var e=n.clipboardData.getData("Text");return w(e)},[w]);return a.a.createElement(N,{tabIndex:0,onKeyDown:k,onKeyPress:y,onPaste:x},a.a.createElement(g,null),a.a.createElement("span",null,E),a.a.createElement("span",{className:"cursor"},(e=O)?e.replace("\n"," \n"):" "),a.a.createElement("span",null,j))},A=t(5);function R(){var n=Object(i.a)(["\n  color: #888888;\n"]);return R=function(){return n},n}var B=l.a.div(R()),K=function(){return a.a.createElement(B,null,"(Re)connecting...")};function P(){var n=Object(i.a)(['\n  padding: 4px;\n  overflow-y: auto;\n  font-size: 12pt;\n  background-color: #000000;\n  color: #eeeeee;\n  font-family: "Monaco", monospace;\n  outline: none;\n  white-space: pre;\n']);return P=function(){return n},n}var T=l.a.section(P()),J=function(n){var e=n.connectionStatus,t=n.onEval,c=n.messageEmitter,o=Object(r.createRef)(),i=Object(r.useState)(""),l=Object(u.a)(i,2),s=l[0],f=l[1],v=function(n){var e=Object(r.useState)(n),t=Object(u.a)(e,2),a=t[0],c=t[1];return{addError:function(n){var e={content:n,type:"error"};c(function(n){return[].concat(Object(A.a)(n),[e])})},addOutput:function(n){var e={content:n,type:"output"};c(function(n){return[].concat(Object(A.a)(n),[e])})},addInput:function(n){var e={content:n,type:"input"};c(function(n){return[].concat(Object(A.a)(n),[e])})},entries:a}}([]);!function(n,e){Object(r.useEffect)(function(){var t=function(n){var t=n.data,r=JSON.parse(t);"error"in r?e.addError(r.error):"result"in r?e.addOutput(r.result):"print"in r?e.addOutput(r.print):e.addOutput("OK")};return n?(n.on("message",t),function(){n.off("message",t)}):function(){}},[n,e])}(c,v);var b=Object(r.useCallback)(function(){"open"===e&&(v.addInput(s),f(""),t(s))},[s,t,v,e]);return Object(r.useEffect)(function(){return o.current.scrollIntoView()},[o]),a.a.createElement(T,null,a.a.createElement(C,{logEntries:v.entries}),"open"!==e&&a.a.createElement(K,null),a.a.createElement(I,{logEntries:v.entries,value:s,onChange:f,onSubmit:b}),a.a.createElement("div",{ref:o}))},L=(t(41),{EVAL_ENDPOINT:"wss://iamlisp-server.herokuapp.com/"}),V=t(18),W=t(19);function z(){var n=Object(i.a)(["\n  display: flex;\n  width: 100vw;\n  height: 100vh;\n\n  "," {\n    width: 50%;\n  }\n\n  "," {\n    width: 50%;\n  }\n"]);return z=function(){return n},n}var _=l.a.div(z(),O,T);var H=function(){var n=function(n){var e=Object(r.useState)("closed"),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(r.useRef)(),i=Object(r.useRef)();Object(r.useEffect)(function(){var e=new W.a(n),t=new V.EventEmitter;return e.onmessage=function(n){return t.emit("message",n)},e.onerror=function(n){return c("error")},e.onclose=function(){return c("close")},e.onopen=function(){return c("open")},o.current=e,i.current=t,function(){o.current.onopen=null,o.current.onerror=null,o.current.onmessage=null,o.current.onclose=null,o.current.close()}},[n]);var l=Object(r.useCallback)(function(n){o.current.send(n)},[o]);return[a,i.current,l]}(L.EVAL_ENDPOINT),e=Object(u.a)(n,3),t=e[0],c=e[1],o=e[2];return a.a.createElement(_,null,a.a.createElement(h,{onEval:o}),a.a.createElement(J,{connectionStatus:t,onEval:o,messageEmitter:c}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.d0d90e32.chunk.js.map