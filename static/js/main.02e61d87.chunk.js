(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,n,t){e.exports=t(39)},24:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),a=t(7),o=t.n(a),u=(t(24),t(3)),l=t(1),i=t(2),s=t(13),f=t.n(s);function m(){var e=Object(l.a)(['\n  font-family: "Monaco", monospace;\n  display: flex;\n  flex-direction: column;\n']);return m=function(){return e},e}t(35);var v=i.a.section(m()),b={mode:"commonlisp",theme:"material"},p=function(e){var n=Object(r.useState)(),t=Object(u.a)(n,2),a=t[0],o=t[1];return c.a.createElement(v,null,c.a.createElement(f.a,{value:a,onChange:o,options:b}))},E=t(4),O=function(){return c.a.createElement("span",null,">\xa0")};function d(){var e=Object(l.a)(["\n  ",".input {\n    color: #ffffff;\n  }\n\n  ",".output {\n    color: #00ff00;\n  }\n\n  ",".error {\n    color: #ff0000;\n  }\n"]);return d=function(){return e},e}function j(){var e=Object(l.a)([""]);return j=function(){return e},e}var h=i.a.div(j()),w=i.a.div(d(),h,h,h),g=function(e){var n=e.logEntries;return c.a.createElement(w,null,n.map(function(e,n){return c.a.createElement(h,{key:n,className:e.type},"input"===e.type&&c.a.createElement(O,null),e.content)}))};function k(){var e=Object(l.a)(["\n  .cursor {\n    background-color: #eeeeee;\n    color: #223344;\n  }\n"]);return k=function(){return e},e}var y=i.a.div(k());var x=function(e){var n,t=e.value,a=e.onChange,o=e.onSubmit,l=Object(r.useState)(0),i=Object(u.a)(l,2),s=i[0],f=i[1],m=t.slice(0,s),v=t[s],b=t.slice(s+1),p=Object(r.useCallback)(function(e){var n=t.slice(0,s),r=t.slice(s);f(function(n){return n+e.length}),a("".concat(n).concat(e).concat(r))},[s,t,a]),E=Object(r.useCallback)(function(e){switch(e.key){case"ArrowLeft":return f(function(e){return Math.max(0,e-1)});case"ArrowRight":return f(function(e){return Math.min(t.length,e+1)});case"End":return f(t.length);case"Home":return f(0);case"Backspace":var n=t.slice(0,s),r=t.slice(s);f(function(e){return Math.max(0,e-1)}),a("".concat(n.slice(0,-1)).concat(r));break;case"Delete":var c=t.slice(0,s),o=t.slice(s);a("".concat(c).concat(o.slice(1)))}},[s,t,a]),d=Object(r.useCallback)(function(e){switch(e.preventDefault(),e.key){case"Enter":return e.shiftKey?p("\n"):o(t);default:return p(e.key)}},[p,o,t]),j=Object(r.useCallback)(function(e){e.preventDefault();var n=e.clipboardData.getData("Text");return p(n)},[p]);return c.a.createElement(y,{tabIndex:0,onKeyDown:E,onKeyPress:d,onPaste:j},c.a.createElement(O,null),c.a.createElement("span",null,m),c.a.createElement("span",{className:"cursor"},(n=v)?n.replace("\n"," \n"):" "),c.a.createElement("span",null,b))};function C(){var e=Object(l.a)(['\n  padding: 4px;\n  overflow-y: auto;\n  font-size: 12pt;\n  background-color: #000000;\n  color: #eeeeee;\n  font-family: "Monaco", monospace;\n  outline: none;\n  white-space: pre;\n']);return C=function(){return e},e}var S=i.a.section(C()),D=function(e){var n=e.onEval,t=e.messageEmitter,a=Object(r.createRef)(),o=Object(r.useState)(""),l=Object(u.a)(o,2),i=l[0],s=l[1],f=Object(r.useState)([]),m=Object(u.a)(f,2),v=m[0],b=m[1],p=Object(r.useCallback)(function(){var e={content:i,type:"input"};b(function(n){return[].concat(Object(E.a)(n),[e])}),s(""),n(i)},[i,n]);return Object(r.useEffect)(function(){var e=function(e){var n=e.data,t=JSON.parse(n);if("error"in t){var r={content:t.error,type:"error"};b(function(e){return[].concat(Object(E.a)(e),[r])})}if("result"in t){var c={content:t.result,type:"output"};b(function(e){return[].concat(Object(E.a)(e),[c])})}};if(t)return t.on("message",e),function(){t.off("message",e)}},[t]),Object(r.useEffect)(function(){a.current.scrollIntoView()},[a]),c.a.createElement(S,null,c.a.createElement(g,{logEntries:v}),c.a.createElement(x,{value:i,onChange:s,onSubmit:p}),c.a.createElement("div",{ref:a}))},N=(t(38),{EVAL_ENDPOINT:"wss://iamlisp-server.herokuapp.com/"}),I=t(16);function M(){var e=Object(l.a)(["\n  display: flex;\n  width: 100vw;\n  height: 100vh;\n\n  "," {\n    width: 50%;\n  }\n\n  "," {\n    width: 50%;\n  }\n"]);return M=function(){return e},e}var A=i.a.div(M(),v,S);var P=function(){var e=function(e){var n=Object(r.useState)("closed"),t=Object(u.a)(n,2),c=t[0],a=t[1],o=Object(r.useRef)(),l=Object(r.useRef)();Object(r.useEffect)(function(){var n=new WebSocket(e),t=new I.EventEmitter;return n.onmessage=function(e){return t.emit("message",e)},n.onerror=function(e){return a("error")},n.onclose=function(){return a("close")},n.onopen=function(){return a("open")},o.current=n,l.current=t,function(){o.current.onopen=null,o.current.onerror=null,o.current.onmessage=null,o.current.onclose=null,o.current.close()}},[e]);var i=Object(r.useCallback)(function(e){o.current.send(e)},[o]);return[c,l.current,i]}(N.EVAL_ENDPOINT),n=Object(u.a)(e,3),t=n[0],a=n[1],o=n[2];return c.a.createElement(A,null,c.a.createElement(p,null),"open"===t&&c.a.createElement(D,{onEval:o,messageEmitter:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.02e61d87.chunk.js.map